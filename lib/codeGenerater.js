const fs=require("fs-extra"),path=require("path"),transformFromAstSync=require("@babel/core")["transformFromAstSync"],generatePlugin=require("./plugins/code-generate-plugin"),autoImportPlugin=require("./plugins/auto-import-plugin"),getFileAst=require("./utils")["getFileAst"],getFileInfo=require("./fileInfo");module.exports=function({sourcePath:e,targetPath:t}){var r=getFileInfo(e),i=getFileAst(t),r=transformFromAstSync(i,"",{filename:path.basename(e),configFile:!1,plugins:[[autoImportPlugin,{fileInfo:r,path:path.relative(path.resolve(t,"../"),e)}],[generatePlugin,{fileInfo:r}]]})["code"];fs.writeFileSync(t,r)};